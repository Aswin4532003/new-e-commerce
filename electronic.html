<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ElectroZone 3D</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to bottom right, #f8fafc, #e2e8f0);
    }
    .slide3d, .card3d {
      transform-style: preserve-3d;
      transition: transform 0.7s ease, box-shadow 0.7s ease;
      perspective: 1000px;
    }
    .card3d:hover {
      transform: rotateY(10deg) rotateX(5deg) scale(1.05);
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    }
    .slideshow-3d img {
      transition: opacity 1s ease, transform 1s ease;
    }
    .active-slide {
      opacity: 1 !important;
      transform: scale(1) rotateY(0);
    }
    .inactive-slide {
      opacity: 0;
      transform: scale(0.95) rotateY(10deg);
    }
    .modal-overlay {
      position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex; justify-content: center; align-items: center;
      z-index: 1000; opacity: 0; visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-content {
      background-color: #fff; padding: 2.5rem; border-radius: 0.75rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3); width: 90%; max-width: 500px;
      transform: translateY(-20px); transition: transform 0.3s ease;
      position: relative; max-height: 90vh; overflow-y: auto;
    }
    .modal-overlay.active .modal-content { transform: translateY(0); }
  </style>
</head>
<body>
  <!-- HEADER & NAVIGATION -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
      <span class="text-2xl font-bold text-pink-600">âš¡ ElectroZone 3D</span>
      <button onclick="toggleCart()" class="relative text-2xl p-2 rounded-full hover:bg-gray-100 transition">
        <i class="fas fa-shopping-cart text-gray-700"></i>
        <span id="cartCount" class="absolute -top-1 -right-1 bg-pink-600 text-white text-xs px-1.5 py-0.5 rounded-full">0</span>
      </button>
    </div>
  </header>

  <!-- SLIDESHOW -->
  <section class="max-w-6xl mx-auto mt-12 px-4">
    <div class="relative w-full overflow-hidden rounded-xl shadow-xl">
      <div id="slideshow3D" class="relative h-[400px] slideshow-3d">
        <img class="absolute inset-0 w-full h-full object-cover active-slide" src="se1.png.png" alt="Slide 1">
        <img class="absolute inset-0 w-full h-full object-cover inactive-slide" src="se2.png.png" alt="Slide 2">
        <img class="absolute inset-0 w-full h-full object-cover inactive-slide" src="se3.png.png" alt="Slide 3">
      </div>
      <button id="prevBtn3D" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-100 text-gray-800 px-3 py-2 rounded-full shadow-lg hover:scale-110 transition">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button id="nextBtn3D" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-100 text-gray-800 px-3 py-2 rounded-full shadow-lg hover:scale-110 transition">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section class="max-w-6xl mx-auto my-20 px-6">
    <h2 class="text-3xl font-bold text-center mb-10">âœ¨ Our Best Sellers</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
      <div class="card3d bg-white p-6 rounded-3xl shadow-2xl text-center">
        <img src="Bluetooth Speaker.png" alt="Product" class="w-full h-56 object-cover rounded-2xl mb-4">
        <h3 class="text-2xl font-semibold">Smart Speaker</h3>
        <p class="text-gray-600 mt-2">Voice-controlled, compact, and stylish.</p>
        <p class="text-pink-600 font-bold mt-2 text-xl">â‚¹1999</p>
        <button onclick="addToCart('Smart Speaker', 1999)" class="mt-6 w-full px-5 py-3 bg-pink-600 text-white rounded-full hover:bg-pink-700 transition-transform transform hover:scale-105">Add to Cart</button>
      </div>
      <div class="card3d bg-white p-6 rounded-3xl shadow-2xl text-center">
        <img src="smart watch.jpg" alt="Product" class="w-full h-56 object-cover rounded-2xl mb-4">
        <h3 class="text-2xl font-semibold">Fitness Watch</h3>
        <p class="text-gray-600 mt-2">Track your goals with smart features.</p>
        <p class="text-pink-600 font-bold mt-2 text-xl">â‚¹2999</p>
        <button onclick="addToCart('Fitness Watch', 2999)" class="mt-6 w-full px-5 py-3 bg-pink-600 text-white rounded-full hover:bg-pink-700 transition-transform transform hover:scale-105">Add to Cart</button>
      </div>
      <div class="card3d bg-white p-6 rounded-3xl shadow-2xl text-center">
        <img src="Noise Cancelling Headphones.png" alt="Product" class="w-full h-56 object-cover rounded-2xl mb-4">
        <h3 class="text-2xl font-semibold">Noise-Cancelling Headphones</h3>
        <p class="text-gray-600 mt-2">Immersive sound with no distractions.</p>
        <p class="text-pink-600 font-bold mt-2 text-xl">â‚¹3999</p>
        <button onclick="addToCart('Headphones', 3999)" class="mt-6 w-full px-5 py-3 bg-pink-600 text-white rounded-full hover:bg-pink-700 transition-transform transform hover:scale-105">Add to Cart</button>
      </div>
    </div>
  </section>

  <!-- Cart Drawer -->
  <div id="cart" class="fixed top-0 right-0 w-full sm:w-96 h-full bg-white shadow-2xl p-6 transform translate-x-full transition-transform duration-300 z-[1001] overflow-y-auto">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold">ðŸ›’ Your Cart</h2>
      <button onclick="toggleCart(true)" class="text-gray-500 hover:text-gray-700 text-2xl">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div id="cartItems" class="mb-4 space-y-4"></div>
    <div class="border-t pt-4 flex justify-between items-center text-xl font-bold">
      <span>Total:</span>
      <span class="text-pink-600">â‚¹<span id="totalPrice">0</span></span>
    </div>
    <button onclick="showCheckoutModal()" class="mt-6 w-full py-3 bg-pink-600 text-white rounded-xl hover:bg-pink-700 font-semibold">Checkout</button>
  </div>

  <!-- CHECKOUT MODAL -->
  <div id="checkout-modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <button id="close-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl">
        <i class="fas fa-times"></i>
      </button>
      <h3 class="text-2xl font-bold mb-6 text-center">Checkout</h3>

      <div class="mb-6 space-y-4">
        <label class="block text-gray-700 font-semibold text-lg">Shipping Information</label>
        <input type="text" id="customer-name" placeholder="Full Name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
        <input type="email" id="customer-email" placeholder="Email Address" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
        <input type="tel" id="customer-phone" placeholder="Phone Number" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
        <textarea id="customer-address" rows="3" placeholder="Shipping Address" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required></textarea>
      </div>

      <div class="bg-gray-100 p-4 rounded-lg mb-6">
        <div class="flex justify-between text-lg font-bold">
          <span>Total:</span>
          <span id="modal-total" class="text-pink-600">â‚¹0</span>
        </div>
      </div>

      <label class="block text-gray-700 mb-3 font-semibold text-lg">Select Payment Method</label>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <button onclick="handlePayment('Razorpay')" class="bg-pink-600 hover:bg-pink-700 text-white font-semibold py-3 rounded-lg shadow transition">
          <i class="fas fa-credit-card mr-2"></i> Pay with Razorpay
        </button>
        <button onclick="handlePayment('COD')" class="bg-white text-gray-800 border border-gray-300 font-semibold py-3 rounded-lg shadow hover:bg-gray-100 transition">
          <i class="fas fa-money-bill-wave mr-2"></i> Cash on Delivery
        </button>
      </div>
    </div>
  </div>

  <!-- CUSTOM MESSAGE MODAL -->
  <div id="message-modal-overlay" class="modal-overlay">
    <div class="modal-content text-center">
      <h3 id="message-title" class="text-2xl font-bold mb-4"></h3>
      <p id="message-text" class="text-gray-700 mb-6"></p>
      <button onclick="hideCustomMessage()" class="bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 px-6 rounded-lg">
        Close
      </button>
    </div>
  </div>

  <script>
    // Slideshow Logic
    const slides = document.querySelectorAll('#slideshow3D img');
    const prevBtn = document.getElementById('prevBtn3D');
    const nextBtn = document.getElementById('nextBtn3D');
    let currentSlide = 0;
    
    function updateSlides(index) {
      slides.forEach((slide, i) => {
        slide.classList.remove('active-slide', 'z-10');
        slide.classList.add('inactive-slide', 'z-0');
        if (i === index) {
          slide.classList.remove('inactive-slide');
          slide.classList.add('active-slide', 'z-10');
        }
      });
    }
    
    prevBtn.addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      updateSlides(currentSlide);
    });
    
    nextBtn.addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % slides.length;
      updateSlides(currentSlide);
    });
    
    setInterval(() => {
      currentSlide = (currentSlide + 1) % slides.length;
      updateSlides(currentSlide);
    }, 6000);
    
    updateSlides(currentSlide);

    // Cart Logic
    let cart = [];
    
    function addToCart(name, price) {
      cart.push({ name, price });
      updateCartCount();
      showCustomMessage('Added to Cart', `${name} has been added to your cart.`);
    }

    function updateCart() {
      const cartItemsEl = document.getElementById("cartItems");
      const totalPriceEl = document.getElementById("totalPrice");
      const modalTotalEl = document.getElementById("modal-total");
      cartItemsEl.innerHTML = "";
      let total = 0;
      cart.forEach((item, index) => {
        total += item.price;
        const div = document.createElement("div");
        div.className = "flex justify-between items-center border-b py-2";
        div.innerHTML = `
          <span>${item.name}</span>
          <div class="flex items-center space-x-2">
            <span>â‚¹${item.price}</span>
          </div>
        `;
        cartItemsEl.appendChild(div);
      });
      totalPriceEl.innerText = total;
      if (modalTotalEl) modalTotalEl.innerText = total;
    }
    
    function updateCartCount() {
      document.getElementById('cartCount').innerText = cart.length;
    }
    
    function toggleCart(forceClose = false) {
      const cartEl = document.getElementById("cart");
      if (forceClose || cartEl.classList.contains("translate-x-0")) {
        cartEl.classList.add("translate-x-full");
        cartEl.classList.remove("translate-x-0");
      } else {
        updateCart();
        cartEl.classList.remove("translate-x-full");
        cartEl.classList.add("translate-x-0");
      }
    }

    // Checkout Logic
    function showCheckoutModal() {
      if (cart.length === 0) {
        showCustomMessage('Cart is Empty', 'Please add items to your cart before checking out.');
        return;
      }
      updateCart(); // Ensure totals are up-to-date
      toggleCart(true); // Close the cart drawer
      document.getElementById("checkout-modal-overlay").classList.add("active");
    }

    function hideCheckoutModal() {
      document.getElementById("checkout-modal-overlay").classList.remove("active");
    }

    function handlePayment(method) {
      // Get customer details from the form
      const customerName = document.getElementById('customer-name').value;
      const customerEmail = document.getElementById('customer-email').value;
      const customerPhone = document.getElementById('customer-phone').value;
      const customerAddress = document.getElementById('customer-address').value;

      if (!customerName || !customerEmail || !customerPhone || !customerAddress) {
        showCustomMessage('Information Required', 'Please fill out all shipping information to proceed.');
        return;
      }

      const total = cart.reduce((acc, item) => acc + item.price, 0);

      if (method === 'Razorpay') {
        const options = {
          key: "rzp_test_yourKeyHere", // <-- REPLACE WITH YOUR ACTUAL KEY
          amount: total * 100, // Amount in paise
          currency: "INR",
          name: "ElectroZone",
          description: "Order Payment",
          handler: function (response) {
            showCustomMessage('Payment Successful', `Your payment ID is: ${response.razorpay_payment_id}. Your order will be shipped soon!`);
            clearCart();
            hideCheckoutModal();
          },
          prefill: {
            name: customerName,
            email: customerEmail,
            contact: customerPhone
          },
          theme: {
            color: "#ec4899"
          }
        };
        const rzp = new Razorpay(options);
        rzp.open();
      } else if (method === 'COD') {
        hideCheckoutModal();
        showCustomMessage('Order Confirmed!', `Your order has been placed. You will pay â‚¹${total} in cash upon delivery.`);
        clearCart();
      }
    }

    function clearCart() {
      cart = [];
      updateCart();
      updateCartCount();
    }

    // Custom Message Functions (Replaces `alert()`)
    function showCustomMessage(title, text) {
      document.getElementById('message-title').innerText = title;
      document.getElementById('message-text').innerText = text;
      document.getElementById('message-modal-overlay').classList.add('active');
    }

    function hideCustomMessage() {
      document.getElementById('message-modal-overlay').classList.remove('active');
    }

    // Event listeners for modals
    document.addEventListener('click', function(event) {
      const checkoutOverlay = document.getElementById("checkout-modal-overlay");
      const closeBtn = document.getElementById("close-modal");
      if (event.target === checkoutOverlay || event.target === closeBtn || closeBtn.contains(event.target)) {
        hideCheckoutModal();
      }
    });

    // Initialize cart count on page load
    document.addEventListener('DOMContentLoaded', updateCartCount);
  </script>
</body>
</html>
