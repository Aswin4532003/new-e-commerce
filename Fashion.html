<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FashionSphere</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
    .card-3d { perspective: 1500px; }
    .card-inner {
      transform-style: preserve-3d;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card-3d:hover .card-inner {
      transform: rotateY(10deg) rotateX(5deg) scale(1.05);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }
    .slide { position: absolute; width: 100%; height: 100%; opacity: 0; transform: scale(0.95) rotateY(30deg); transition: all 1s ease; }
    .slide.active { opacity: 1; transform: scale(1) rotateY(0deg); z-index: 10; }
    .dots { display: flex; justify-content: center; gap: 0.5rem; margin-top: 1rem; }
    .dot { width: 12px; height: 12px; border-radius: 9999px; background-color: #d1d5db; cursor: pointer; }
    .dot.active { background-color: #ec4899; }

    /* Payment Popup Specific Styles */
    .payment-modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .payment-modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    .payment-modal-content {
      background-color: #fff;
      padding: 2.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      width: 90%;
      max-width: 500px;
      transform: translateY(-20px);
      transition: transform 0.3s ease;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }
    .payment-modal-overlay.active .payment-modal-content {
      transform: translateY(0);
    }
  </style>
</head>
<body class="bg-white text-gray-900">

<!-- HEADER -->
<header class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
    <span class="text-2xl font-bold text-pink-600">üëó FashionSphere</span>
    <div class="relative">
      <button onclick="toggleCart()" class="relative text-2xl">üõçÔ∏è
        <span id="cartCount" class="absolute -top-2 -right-2 bg-pink-600 text-white text-xs px-1.5 py-0.5 rounded-full">0</span>
      </button>
      <div id="cartDropdown" class="hidden absolute right-0 mt-2 w-72 bg-white border rounded-lg shadow-xl z-50 p-4">
        <h3 class="text-lg font-semibold mb-2">Your Cart</h3>
        <ul id="miniCartItems" class="max-h-48 overflow-y-auto text-sm space-y-2"></ul>
        <p id="miniCartTotal" class="font-bold mt-2">Total: ‚Çπ0</p>
        <button onclick="showPaymentModal()" class="w-full mt-4 bg-pink-600 text-white py-2 rounded hover:bg-pink-700">Checkout</button>
      </div>
    </div>
  </div>
</header>

<!-- SLIDESHOW -->
<section class="max-w-6xl mx-auto mt-10 px-4">
  <div class="relative rounded-xl shadow-xl h-[400px] overflow-hidden">
    <div class="slide active"><img src="sf1.png.png" class="w-full h-full object-cover rounded-xl" alt="Fashion Slide 1" /></div>
    <div class="slide"><img src="sf2.png.png" class="w-full h-full object-cover rounded-xl" alt="Fashion Slide 2" /></div>
    <div class="slide"><img src="sf3.png.png" class="w-full h-full object-cover rounded-xl" alt="Fashion Slide 3" /></div>
  </div>
  <div class="dots mt-4">
    <div class="dot active" onclick="goToSlide(0)"></div>
    <div class="dot" onclick="goToSlide(1)"></div>
    <div class="dot" onclick="goToSlide(2)"></div>
  </div>
</section>

<!-- PRODUCTS -->
<section class="max-w-7xl mx-auto py-16 px-6">
  <h2 class="text-3xl font-bold mb-10 text-center">‚ú® Latest Fashion</h2>
  <div class="grid md:grid-cols-3 gap-8">
    <div class="card-3d"><div class="card-inner p-4 bg-white rounded-lg shadow-lg">
      <img src="f1.png" class="w-full h-80 object-cover mb-4 rounded" alt="Red Designer Gown" />
      <h3 class="text-lg font-semibold">Red Designer Gown</h3>
      <p class="text-gray-600">‚Çπ1,999</p>
      <button onclick="addToCart('Red Designer Gown', 1999)" class="mt-3 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">Add to Cart</button>
    </div></div>
    <div class="card-3d"><div class="card-inner p-4 bg-white rounded-lg shadow-lg">
      <img src="f2.png" class="w-full h-80 object-cover mb-4 rounded" alt="Bridal Lehenga" />
      <h3 class="text-lg font-semibold">Bridal Lehenga</h3>
      <p class="text-gray-600">‚Çπ3,499</p>
      <button onclick="addToCart('Bridal Lehenga', 3499)" class="mt-3 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">Add to Cart</button>
    </div></div>
    <div class="card-3d"><div class="card-inner p-4 bg-white rounded-lg shadow-lg">
      <img src="f3.png" class="w-full h-80 object-cover mb-4 rounded" alt="Silk Saree" />
      <h3 class="text-lg font-semibold">Silk Saree</h3>
      <p class="text-gray-600">‚Çπ2,799</p>
      <button onclick="addToCart('Silk Saree', 2799)" class="mt-3 bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">Add to Cart</button>
    </div></div>
  </div>
</section>

<!-- NEW PAYMENT MODAL -->
<div id="payment-modal-overlay" class="payment-modal-overlay">
  <div class="payment-modal-content">
    <button id="close-payment-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl">
      <i class="fas fa-times"></i>
    </button>

    <div class="p-6">
      <h3 class="text-2xl font-bold mb-6 text-center">Checkout</h3>

      <!-- Customer Information Section -->
      <div class="mb-6">
        <label class="block text-gray-700 mb-3 font-semibold">Shipping Information</label>
        <div class="mb-4">
          <label for="customer-name" class="block text-gray-700 text-sm font-medium mb-1">Full Name</label>
          <input type="text" id="customer-name" placeholder="John Doe" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
        </div>
        <div class="mb-4">
          <label for="customer-address" class="block text-gray-700 text-sm font-medium mb-1">Shipping Address</label>
          <textarea id="customer-address" rows="3" placeholder="123 Fashion Street, City, State, ZIP" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required></textarea>
        </div>
      </div>

      <!-- Order Summary -->
      <div class="bg-gray-50 p-4 rounded-lg mb-6">
        <div class="flex justify-between mb-2">
          <span class="text-gray-600">Subtotal:</span>
          <span id="modal-subtotal" class="font-semibold">‚Çπ0</span>
        </div>
        <div class="flex justify-between mb-2">
          <span class="text-gray-600">Shipping:</span>
          <span class="font-semibold">Free</span>
        </div>
        <div class="flex justify-between text-lg font-bold">
          <span>Total:</span>
          <span id="modal-total" class="text-pink-600">‚Çπ0</span>
        </div>
      </div>

      <!-- Payment Method Selection -->
      <div class="mb-6">
        <label class="block text-gray-700 mb-3 font-semibold">Select Payment Method</label>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <button onclick="selectPaymentMethod('COD')" class="payment-option bg-white text-gray-700 border border-gray-300 rounded-lg p-4 text-center hover:bg-gray-100 transition">
            Cash on Delivery
          </button>
          <button onclick="selectPaymentMethod('UPI')" class="payment-option bg-white text-gray-700 border border-gray-300 rounded-lg p-4 text-center hover:bg-gray-100 transition">
            UPI
          </button>
          <button onclick="selectPaymentMethod('Card')" class="payment-option bg-white text-gray-700 border border-gray-300 rounded-lg p-4 text-center hover:bg-gray-100 transition">
            Credit/Debit Card
          </button>
        </div>
      </div>

      <!-- Payment Form Sections (Dynamically shown) -->
      <div id="payment-form-container">
        <!-- Forms will be inserted here based on selection -->
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="text-center py-10 bg-gray-100 text-sm text-gray-600">
  <div class="mb-3">¬© 2025 FashionSphere. All rights reserved.</div>
  <div class="text-base space-y-2">
    üìß <a href="mailto:kaaswin4503@gmail.com" class="text-pink-600 hover:underline">kaaswin4503@gmail.com</a><br>
    üìû <a href="tel:9976422558" class="text-pink-600 hover:underline">9976422558</a><br>
    üîó <a href="https://www.linkedin.com/in/kaaswin" target="_blank" class="text-pink-600 hover:underline">linkedin.com/in/kaaswin</a><br>
    üêô <a href="https://github.com/kaaswin" target="_blank" class="text-pink-600 hover:underline">github.com/kaaswin</a>
  </div>
</footer>

<!-- SCRIPTS -->
<script>
  // CART
  let cart = [];
  let total = 0;
  let cartVisible = false;

  function addToCart(name, price) {
    cart.push({ name, price });
    total += price;
    updateCart();
  }

  function updateCart() {
    document.getElementById("miniCartItems").innerHTML = cart.map(i => `<li class="flex justify-between"><span>${i.name}</span><span>‚Çπ${i.price}</span></li>`).join('');
    document.getElementById("miniCartTotal").textContent = `Total: ‚Çπ${total}`;
    document.getElementById("cartCount").textContent = cart.length;
    // Also update the modal totals if it's open
    updateModalTotals();
  }

  function toggleCart(forceClose = null) {
    const cartDropdown = document.getElementById("cartDropdown");
    if (forceClose === true || cartVisible) {
      cartDropdown.classList.add("hidden");
      cartVisible = false;
    } else {
      cartDropdown.classList.remove("hidden");
      cartVisible = true;
    }
  }

  // NEW PAYMENT MODAL FUNCTIONS
  function showPaymentModal() {
    if (cart.length === 0) {
      alert("Your cart is empty! Please add items before proceeding to checkout.");
      return;
    }
    document.getElementById("payment-modal-overlay").classList.add("active");
    toggleCart(true);
    updateModalTotals();
    // Default to show no payment form on open
    document.getElementById("payment-form-container").innerHTML = '';
    // Deselect all buttons
    document.querySelectorAll('.payment-option').forEach(btn => btn.classList.remove('bg-pink-600', 'text-white'));
  }

  function hidePaymentModal() {
    document.getElementById("payment-modal-overlay").classList.remove("active");
  }

  function updateModalTotals() {
    const subtotalEl = document.getElementById("modal-subtotal");
    const totalEl = document.getElementById("modal-total");
    if (subtotalEl && totalEl) {
      subtotalEl.textContent = `‚Çπ${total}`;
      totalEl.textContent = `‚Çπ${total}`;
    }
  }

  function selectPaymentMethod(method) {
    // Visually highlight the selected button
    document.querySelectorAll('.payment-option').forEach(btn => {
      btn.classList.remove('bg-pink-600', 'text-white');
      btn.classList.add('bg-white', 'text-gray-700', 'border-gray-300');
    });
    const selectedButton = document.querySelector(`.payment-option[onclick*="${method}"]`);
    selectedButton.classList.remove('bg-white', 'text-gray-700', 'border-gray-300');
    selectedButton.classList.add('bg-pink-600', 'text-white');

    const formContainer = document.getElementById("payment-form-container");
    let formHTML = '';

    switch(method) {
      case 'COD':
        formHTML = `
          <div class="p-4 bg-gray-50 rounded-lg">
            <p class="text-center text-lg mb-4">You will pay <strong>‚Çπ${total}</strong> in cash upon delivery.</p>
            <button onclick="handleFinalOrder('COD')" class="w-full bg-pink-600 hover:bg-pink-700 text-white py-2 px-4 rounded-lg font-semibold transition">
              Confirm Order
            </button>
          </div>
        `;
        break;
      case 'UPI':
        formHTML = `
          <div class="p-4 bg-gray-50 rounded-lg text-center">
            <p class="text-lg mb-4">Scan the QR code to pay <strong>‚Çπ${total}</strong> via UPI</p>
            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/45e45c48-2834-44ac-9442-1e5b85a36329.png" alt="QR Code" class="w-48 h-48 mx-auto mb-4 border rounded-lg">
            <button onclick="handleFinalOrder('UPI')" class="w-full bg-pink-600 hover:bg-pink-700 text-white py-2 px-4 rounded-lg font-semibold transition">
              I have paid
            </button>
          </div>
        `;
        break;
      case 'Card':
        formHTML = `
          <form onsubmit="event.preventDefault(); handleFinalOrder('Card', event);">
            <div class="p-4 bg-gray-50 rounded-lg">
              <div class="mb-4">
                  <label for="card-number" class="block text-gray-700 text-sm font-medium mb-1">Card Number</label>
                  <input type="text" id="card-number" placeholder="1234 5678 9012 3456" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
              </div>
              <div class="grid grid-cols-2 gap-4 mb-4">
                  <div>
                      <label for="card-expiry" class="block text-gray-700 text-sm font-medium mb-1">Expiry Date</label>
                      <input type="text" id="card-expiry" placeholder="MM/YY" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
                  </div>
                  <div>
                      <label for="card-cvv" class="block text-gray-700 text-sm font-medium mb-1">CVV</label>
                      <input type="text" id="card-cvv" placeholder="123" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
                  </div>
              </div>
              <div class="mb-4">
                  <label for="card-name" class="block text-gray-700 text-sm font-medium mb-1">Name on Card</label>
                  <input type="text" id="card-name" placeholder="John Smith" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
              </div>
              <button type="submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white py-2 px-4 rounded-lg font-semibold transition">
                Pay ‚Çπ${total}
              </button>
            </div>
          </form>
        `;
        break;
      default:
        formHTML = '';
    }
    formContainer.innerHTML = formHTML;
  }

  function handleFinalOrder(paymentMethod) {
    const customerName = document.getElementById("customer-name").value;
    const customerAddress = document.getElementById("customer-address").value;

    if (!customerName || !customerAddress) {
      alert("Please fill in your shipping information.");
      return;
    }

    // This is where you would handle the different payment methods in a real app
    let paymentDetails = '';
    switch (paymentMethod) {
      case 'COD':
        paymentDetails = 'Payment method: Cash on Delivery';
        break;
      case 'UPI':
        paymentDetails = 'Payment method: UPI';
        break;
      case 'Card':
        // For card, we can get the details if needed, but we'll simulate success
        const cardNumber = document.getElementById('card-number').value;
        const cardExpiry = document.getElementById('card-expiry').value;
        const cardCvv = document.getElementById('card-cvv').value;
        if (!cardNumber || !cardExpiry || !cardCvv) {
          alert("Please fill in all card details.");
          return;
        }
        paymentDetails = 'Payment method: Credit/Debit Card';
        break;
    }

    // Simulate order placement
    alert("Processing your order...");
    setTimeout(() => {
      const orderId = "FS" + Math.floor(Math.random() * 1000000);
      const orderSummary = cart.map(item => `${item.name} (‚Çπ${item.price})`).join('\n');

      alert(
        `üéâ Order Placed Successfully! üéâ\n\n` +
        `Order ID: #${orderId}\n` +
        `Total Amount: ‚Çπ${total}\n` +
        `Payment Method: ${paymentMethod}\n\n` +
        `Customer Details:\n` +
        `Name: ${customerName}\n` +
        `Shipping Address: ${customerAddress}\n\n` +
        `Items Ordered:\n${orderSummary}\n\n` +
        `Thank you for shopping with FashionSphere!`
      );

      // Clear cart and reset UI
      cart = [];
      total = 0;
      updateCart();
      hidePaymentModal();
    }, 1500);
  }

  document.addEventListener('click', function(event) {
    const dropdown = document.getElementById("cartDropdown");
    const modalOverlay = document.getElementById("payment-modal-overlay");
    const closeButton = document.getElementById("close-payment-modal");

    // Close cart dropdown if clicked outside
    if (!dropdown.contains(event.target) && !event.target.closest("button") && cartVisible) {
      toggleCart(true);
    }

    // Close payment modal if clicked on overlay or close button
    if (event.target === modalOverlay || event.target === closeButton || closeButton.contains(event.target)) {
        hidePaymentModal();
    }
  });

  // SLIDESHOW
  let currentSlide = 0;
  const slides = document.querySelectorAll(".slide");
  const dots = document.querySelectorAll(".dot");
  function goToSlide(index) {
    slides.forEach((s, i) => s.classList.toggle("active", i === index));
    dots.forEach((d, i) => d.classList.toggle("active", i === index));
    currentSlide = index;
  }
  setInterval(() => {
    currentSlide = (currentSlide + 1) % slides.length;
    goToSlide(currentSlide);
  }, 5000);

  // Initialize the payment modal's totals
  document.addEventListener('DOMContentLoaded', () => {
    updateModalTotals();
  });
</script>
</body>
</html>
